{"ast":null,"code":"import _slicedToArray from \"/workspace/hackernews_by_road2react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"/workspace/hackernews_by_road2react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"/workspace/hackernews_by_road2react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/workspace/hackernews_by_road2react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/workspace/hackernews_by_road2react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/workspace/hackernews_by_road2react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/workspace/hackernews_by_road2react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/workspace/hackernews_by_road2react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/workspace/hackernews_by_road2react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/workspace/hackernews_by_road2react/src/App.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component, useState } from \"react\";\nimport update from \"immutability-helper\";\nimport SimpleTable from \"./SimpleTable\"; //import Hello from './Hello';\n\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Hello from \"./Hello\";\nimport TablePagination from \"@material-ui/core/TablePagination\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport FirstPageIcon from \"@material-ui/icons/FirstPage\";\nimport KeyboardArrowLeft from \"@material-ui/icons/KeyboardArrowLeft\";\nimport KeyboardArrowRight from \"@material-ui/icons/KeyboardArrowRight\";\nimport LastPageIcon from \"@material-ui/icons/LastPage\";\nimport \"./style.css\"; //Check out that: query: https://www.algolia.com/doc/api-reference/api-parameters/offset/\n\nvar DEFAULT_QUERY = 'redux';\nvar PATH_BASE = 'https://hn.algolia.com/api/v1';\nvar PATH_SEARCH = '/search';\nvar PARAM_SEARCH = 'query=';\nvar PARAM_PAGE = 'page=';\nvar PARAM_HITSPERPAGE = 'hitsPerPage=';\nvar PARAM_OFFSET = 'offset=';\nvar PARAM_LENGTH = 'length=';\nvar url = \"\".concat(PATH_BASE).concat(PATH_SEARCH, \"?\").concat(PARAM_SEARCH).concat(DEFAULT_QUERY);\nvar useStyles = makeStyles(function (theme) {\n  return {\n    container: {\n      display: 'flex',\n      flexWrap: 'wrap'\n    },\n    textField: {\n      marginLeft: theme.spacing(1),\n      marginRight: theme.spacing(1)\n    },\n    dense: {\n      marginTop: theme.spacing(2)\n    },\n    menu: {\n      width: 200\n    },\n    button: {\n      verticalAlign: '-35px'\n    }\n  };\n});\n/**\r\n * call App represent the table\r\n*/\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n    _this.state = {\n      results: {},\n      searchKey: '',\n      name: 'React',\n      deletedLines: 0,\n      enablePagination: false\n    };\n    _this.downLoadLength = 20;\n    _this.offset = 0;\n    _this.actualSearchTerm = DEFAULT_QUERY;\n    _this.enteredSearchTerm = DEFAULT_QUERY;\n    _this.setSearchTopStories = _this.setSearchTopStories.bind(_assertThisInitialized(_this));\n    _this.onDismiss = _this.onDismiss.bind(_assertThisInitialized(_this));\n    _this.onUpdate = _this.onUpdate.bind(_assertThisInitialized(_this));\n    _this.onSearchSubmit = _this.onSearchSubmit.bind(_assertThisInitialized(_this));\n    _this.fetchSearchTopStories = _this.fetchSearchTopStories.bind(_assertThisInitialized(_this));\n    _this.onLengthUpdate = _this.onLengthUpdate.bind(_assertThisInitialized(_this));\n    _this.onAdditionSubmit = _this.onAdditionSubmit.bind(_assertThisInitialized(_this));\n    _this.needsToSearchTopStories = _this.needsToSearchTopStories.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /**\r\n   * very important function\r\n   * @param {string} searchTerm some search term\r\n   * @param {number} page page number to fetch from the server\r\n   * @param {number} hitsperPage hits per page\r\n   */\n\n\n  _createClass(App, [{\n    key: \"fetchSearchTopStories\",\n    value: function fetchSearchTopStories(searchTerm) {\n      var _this2 = this;\n\n      var pOffset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var downLoadLength = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 20;\n      console.log('--fetchSearchTopStories:');\n      console.log(\"\".concat(PATH_BASE).concat(PATH_SEARCH, \"?\").concat(PARAM_SEARCH).concat(searchTerm, \"&\").concat(PARAM_OFFSET).concat(pOffset, \"&\").concat(PARAM_LENGTH).concat(downLoadLength));\n      fetch(\"\".concat(PATH_BASE).concat(PATH_SEARCH, \"?\").concat(PARAM_SEARCH).concat(searchTerm, \"&\").concat(PARAM_OFFSET).concat(pOffset, \"&\").concat(PARAM_LENGTH).concat(downLoadLength)).then(function (response) {\n        return response.json();\n      }).then(function (result) {\n        return _this2.setSearchTopStories(result);\n      }).catch(function (error) {\n        return error;\n      });\n    }\n  }, {\n    key: \"onSearchSubmit\",\n    value: function onSearchSubmit(pSearchString) {\n      console.log('--onSearchSubmit:');\n      console.log('pSearchString = ' + pSearchString);\n      console.log('actualSearchTerm = ' + this.actualSearchTerm); //console.log(event);\n\n      this.enteredSearchTerm = pSearchString;\n\n      if (pSearchString !== this.actualSearchTerm) {\n        this.actualSearchTerm = pSearchString;\n        this.setState({\n          searchKey: pSearchString\n        });\n\n        if (this.needsToSearchTopStories(pSearchString)) {\n          this.fetchSearchTopStories(pSearchString, 0, this.downLoadLength);\n        }\n      }\n    }\n  }, {\n    key: \"needsToSearchTopStories\",\n    value: function needsToSearchTopStories(searchTerm) {\n      console.log('--needsToSearchTopStories: searchTerm=' + searchTerm);\n      return !this.state.results[searchTerm];\n    }\n  }, {\n    key: \"onAdditionSubmit\",\n    value: function onAdditionSubmit() {\n      var searchKey = this.state.searchKey;\n      this.fetchSearchTopStories(searchKey, this.state.results[searchKey].hits.length + this.state.results[searchKey].deletedLines, this.downLoadLength);\n    }\n  }, {\n    key: \"setSearchTopStories\",\n    value: function setSearchTopStories(result) {\n      console.log(\"--setSearchTopStories:\");\n      console.log(result);\n      console.log(this.actualSearchTerm);\n      console.log(this.state.searchKey); //console.log(this.enteredSearchTerm);\n\n      var hits = result.hits,\n          offset = result.offset,\n          nbHits = result.nbHits,\n          length = result.length;\n      var _this$state = this.state,\n          searchKey = _this$state.searchKey,\n          results = _this$state.results;\n      var oldhits = offset !== 0 ? this.state.results[searchKey].hits : [];\n      var deletedLines = offset == 0 ? 0 : this.state.results[searchKey].deletedLines;\n      console.log(hits);\n      var updatedHits = [].concat(_toConsumableArray(oldhits), _toConsumableArray(hits));\n      var count = updatedHits.length;\n      var enablePagination = count < nbHits;\n      this.setState({\n        results: _objectSpread({}, results, _defineProperty({}, searchKey, {\n          hits: updatedHits,\n          offset: offset,\n          nbHits: nbHits,\n          count: count,\n          deletedLines: deletedLines\n        })),\n        enablePagination: enablePagination\n      }); //this.setState({result});\n\n      console.log(this.state);\n    }\n  }, {\n    key: \"onDismiss\",\n    value: function onDismiss(id) {\n      console.log('--onDismiss:');\n\n      var isNotId = function isNotId(item) {\n        return item.objectID !== id;\n      };\n\n      var _this$state2 = this.state,\n          searchKey = _this$state2.searchKey,\n          results = _this$state2.results;\n      var updatedList = this.state.results[searchKey].hits.filter(isNotId);\n      var updatedDeletedLines = this.state.results[searchKey].deletedLines + 1;\n      var updatedCount = this.state.results[searchKey].count - 1;\n      this.setState({\n        results: _objectSpread({}, results, _defineProperty({}, searchKey, {\n          hits: updatedList,\n          deletedLines: updatedDeletedLines,\n          count: updatedCount\n        }))\n      });\n    }\n    /**\r\n     * updates length property\r\n     */\n\n  }, {\n    key: \"onLengthUpdate\",\n    value: function onLengthUpdate(updatedDownLoadLength) {\n      console.log('--onLengthUpdate:');\n      console.log(\"function: onLengthUpdate changed download length from \" + this.downLoadLength + \" to \" + updatedDownLoadLength);\n      this.downLoadLength = updatedDownLoadLength;\n    }\n  }, {\n    key: \"onUpdate\",\n    value: function onUpdate(id) {\n      console.log('--onUpdate: id= ' + id);\n\n      var isNotId = function isNotId(item) {\n        return item.objectID !== id;\n      };\n\n      var searchKey = this.state.searchKey;\n      var indexnum = this.state.results[searchKey].hits.findIndex(function (e) {\n        return e.objectID === id;\n      });\n      this.setState(update(this.state, {\n        results: _defineProperty({}, searchKey, {\n          hits: _defineProperty({}, indexnum, {\n            author: {\n              $set: \"Peti\"\n            }\n          })\n        })\n      }));\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      console.log(\"--componentDidMount:\");\n      var searchKey = this.state.searchKey;\n\n      if (searchKey !== this.actualSearchTerm) {\n        this.setState({\n          searchKey: this.actualSearchTerm\n        });\n        this.fetchSearchTopStories(searchKey);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var searchKey = this.actualSearchTerm;\n      var result = this.state.results[searchKey];\n      var searchTerm = this.enteredSearchTerm;\n      var page = result && result.page || 0;\n      var nbPages = result && result.nbPages || 0;\n      var downLoadLength = this.downLoadLength;\n      console.log(\"--App.render Method:\");\n      console.log(\"searchKey = \" + searchKey);\n      console.log(result);\n      console.log(this.state);\n      return React.createElement(\"div\", {\n        className: \"page\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"interactions\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, React.createElement(Hello, {\n        name: this.state.name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, \"Start editing to see some magic happen :)\"), React.createElement(Search, {\n        value: searchKey,\n        onSubmit: this.onSearchSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, \"Search\"), result && result.hits && React.createElement(SimpleTable, {\n        list: Object.assign({}, {\n          headerRow: [\"Title\", \"Author\", \"Comment Num\", \"Points\", \"Dismiss\", \"Update\"]\n        }, {\n          adat: result.hits\n        }, {\n          downLoadLength: downLoadLength\n        }, {\n          nbHits: result.nbHits\n        }, {\n          count: result.count\n        }),\n        onDismiss: this.onDismiss,\n        onUpdate: this.onUpdate,\n        onLengthUpdate: this.onLengthUpdate,\n        enablePagination: this.state.enablePagination,\n        onAdditionSubmit: this.onAdditionSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }, \"Edit \", React.createElement(\"code\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }, \"App.js\"), \" and save to reload. Actually no save needed....\"), React.createElement(\"a\", {\n        className: \"App-link\",\n        href: \"https://reactjs.org\",\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238\n        },\n        __self: this\n      }, \"Learn React\")));\n    }\n  }]);\n\n  return App;\n}(Component);\n/**\r\n * search section\r\n */\n\n\nvar Search = function Search(_ref) {\n  var value = _ref.value,\n      onSubmit = _ref.onSubmit,\n      children = _ref.children;\n  //do something here\n  var logo = \"https://upload.wikimedia.org/wikipedia/commons/a/a7/React-icon.svg\";\n  var classes = useStyles();\n\n  var _useState = useState(value),\n      _useState2 = _slicedToArray(_useState, 2),\n      searchString = _useState2[0],\n      setSearchString = _useState2[1];\n\n  function searchFieldChange(e) {\n    setSearchString(e.target.value);\n  }\n\n  function searchFieldSubmit(e) {\n    e.preventDefault();\n    onSubmit(searchString);\n  }\n\n  return React.createElement(\"form\", {\n    onSubmit: searchFieldSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271\n    },\n    __self: this\n  }, React.createElement(TextField, {\n    id: \"outlined-search\",\n    label: \"Search field\",\n    type: \"search\",\n    className: classes.textField,\n    margin: \"normal\",\n    variant: \"outlined\",\n    value: searchString,\n    onChange: searchFieldChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272\n    },\n    __self: this\n  }), React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    type: \"submit\",\n    className: classes.button,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285\n    },\n    __self: this\n  }, children, React.createElement(\"img\", {\n    src: logo,\n    className: \"App-logo\",\n    alt: \"logo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287\n    },\n    __self: this\n  })));\n};\n\nexport default App;","map":{"version":3,"sources":["/workspace/hackernews_by_road2react/src/App.js"],"names":["React","Component","useState","update","SimpleTable","Button","TextField","makeStyles","Hello","TablePagination","IconButton","FirstPageIcon","KeyboardArrowLeft","KeyboardArrowRight","LastPageIcon","DEFAULT_QUERY","PATH_BASE","PATH_SEARCH","PARAM_SEARCH","PARAM_PAGE","PARAM_HITSPERPAGE","PARAM_OFFSET","PARAM_LENGTH","url","useStyles","theme","container","display","flexWrap","textField","marginLeft","spacing","marginRight","dense","marginTop","menu","width","button","verticalAlign","App","props","state","results","searchKey","name","deletedLines","enablePagination","downLoadLength","offset","actualSearchTerm","enteredSearchTerm","setSearchTopStories","bind","onDismiss","onUpdate","onSearchSubmit","fetchSearchTopStories","onLengthUpdate","onAdditionSubmit","needsToSearchTopStories","searchTerm","pOffset","console","log","fetch","then","response","json","result","catch","error","pSearchString","setState","hits","length","nbHits","oldhits","updatedHits","count","id","isNotId","item","objectID","updatedList","filter","updatedDeletedLines","updatedCount","updatedDownLoadLength","indexnum","findIndex","e","author","$set","page","nbPages","Object","assign","headerRow","adat","Search","value","onSubmit","children","logo","classes","searchString","setSearchString","searchFieldChange","target","searchFieldSubmit","preventDefault"],"mappings":"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","sourcesContent":["import React, { Component, useState } from \"react\";\r\nimport update from \"immutability-helper\";\r\nimport SimpleTable from \"./SimpleTable\";\r\n//import Hello from './Hello';\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Hello from \"./Hello\";\r\nimport TablePagination from \"@material-ui/core/TablePagination\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport FirstPageIcon from \"@material-ui/icons/FirstPage\";\r\nimport KeyboardArrowLeft from \"@material-ui/icons/KeyboardArrowLeft\";\r\nimport KeyboardArrowRight from \"@material-ui/icons/KeyboardArrowRight\";\r\nimport LastPageIcon from \"@material-ui/icons/LastPage\";\r\n\r\nimport \"./style.css\";\r\n\r\n//Check out that: query: https://www.algolia.com/doc/api-reference/api-parameters/offset/\r\n\r\nconst DEFAULT_QUERY = 'redux';\r\nconst PATH_BASE = 'https://hn.algolia.com/api/v1';\r\nconst PATH_SEARCH = '/search';\r\nconst PARAM_SEARCH = 'query=';\r\nconst PARAM_PAGE = 'page=';\r\nconst PARAM_HITSPERPAGE = 'hitsPerPage=';\r\nconst PARAM_OFFSET = 'offset=';\r\nconst PARAM_LENGTH = 'length=';\r\nconst url = `${PATH_BASE}${PATH_SEARCH}?${PARAM_SEARCH}${DEFAULT_QUERY}`;\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  container: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n  },\r\n  textField: {\r\n    marginLeft: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  dense: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  menu: {\r\n    width: 200,\r\n  },\r\n  button: {\r\n    verticalAlign: '-35px',\r\n  },\r\n}));\r\n\r\n/**\r\n * call App represent the table\r\n*/\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      results: {},\r\n      searchKey: '',\r\n      name: 'React',\r\n      deletedLines: 0,\r\n      enablePagination: false,\r\n    };\r\n\r\n    this.downLoadLength= 20;\r\n    this.offset = 0;\r\n    this.actualSearchTerm = DEFAULT_QUERY;\r\n    this.enteredSearchTerm = DEFAULT_QUERY;\r\n\r\n    this.setSearchTopStories = this.setSearchTopStories.bind(this);\r\n    this.onDismiss = this.onDismiss.bind(this);\r\n    this.onUpdate = this.onUpdate.bind(this);\r\n    this.onSearchSubmit = this.onSearchSubmit.bind(this);\r\n    this.fetchSearchTopStories = this.fetchSearchTopStories.bind(this);\r\n    this.onLengthUpdate = this.onLengthUpdate.bind(this);\r\n    this.onAdditionSubmit = this.onAdditionSubmit.bind(this);\r\n\r\n    this.needsToSearchTopStories = this.needsToSearchTopStories.bind(this);\r\n  }\r\n\r\n/**\r\n * very important function\r\n * @param {string} searchTerm some search term\r\n * @param {number} page page number to fetch from the server\r\n * @param {number} hitsperPage hits per page\r\n */\r\n  fetchSearchTopStories(searchTerm, pOffset = 0, downLoadLength = 20){\r\n    console.log('--fetchSearchTopStories:');\r\n    console.log(`${PATH_BASE}${PATH_SEARCH}?${PARAM_SEARCH}${searchTerm}&${PARAM_OFFSET}${pOffset}&${PARAM_LENGTH}${downLoadLength}`);\r\n\r\n    fetch(`${PATH_BASE}${PATH_SEARCH}?${PARAM_SEARCH}${searchTerm}&${PARAM_OFFSET}${pOffset}&${PARAM_LENGTH}${downLoadLength}`)\r\n      .then(response => response.json())\r\n      .then(result => this.setSearchTopStories(result))\r\n      .catch(error => error);\r\n  }\r\n  onSearchSubmit(pSearchString) {\r\n    console.log('--onSearchSubmit:');\r\n    console.log('pSearchString = ' + pSearchString);\r\n    console.log('actualSearchTerm = ' + this.actualSearchTerm);\r\n\r\n    //console.log(event);\r\n    this.enteredSearchTerm = pSearchString;\r\n    if (pSearchString !== this.actualSearchTerm) {\r\n      this.actualSearchTerm = pSearchString;\r\n      this.setState({searchKey: pSearchString});\r\n      if (this.needsToSearchTopStories(pSearchString)) {\r\n        this.fetchSearchTopStories(pSearchString, 0, this.downLoadLength);\r\n      }\r\n    }\r\n  }\r\n  needsToSearchTopStories(searchTerm) {\r\n    console.log('--needsToSearchTopStories: searchTerm=' + searchTerm);\r\n    return !this.state.results[searchTerm];\r\n  }\r\n\r\n  onAdditionSubmit() {\r\n    const {searchKey} = this.state;\r\n    this.fetchSearchTopStories(searchKey, this.state.results[searchKey].hits.length +\r\n                                                      this.state.results[searchKey].deletedLines, this.downLoadLength);\r\n  }\r\n\r\n  setSearchTopStories (result) {\r\n    console.log(\"--setSearchTopStories:\");\r\n    console.log(result);\r\n    console.log(this.actualSearchTerm);\r\n    console.log(this.state.searchKey);\r\n    //console.log(this.enteredSearchTerm);\r\n\r\n    const { hits, offset, nbHits, length } = result;\r\n    const {searchKey, results} = this.state;\r\n    const oldhits = offset !==0 ? this.state.results[searchKey].hits : [];\r\n    const deletedLines = offset ==0 ? 0 : this.state.results[searchKey].deletedLines;\r\n    console.log(hits);\r\n    const updatedHits = [...oldhits, ...hits] ;\r\n    const count = updatedHits.length;\r\n    const enablePagination = count < nbHits;\r\n    this.setState({results: { ...results,\r\n                              [searchKey]: {hits: updatedHits, offset, nbHits,  count, deletedLines}},\r\n                   enablePagination,\r\n                   });\r\n\r\n    //this.setState({result});\r\n    console.log(this.state);\r\n  }\r\n\r\n  onDismiss(id) {\r\n    console.log('--onDismiss:');\r\n    const isNotId = item => item.objectID !== id;\r\n    const {searchKey, results} = this.state;\r\n    const updatedList = this.state.results[searchKey].hits.filter(isNotId);\r\n    const updatedDeletedLines = this.state.results[searchKey].deletedLines + 1\r\n    const updatedCount = this.state.results[searchKey].count - 1\r\n    this.setState({\r\n      results: { ...results,\r\n                 [searchKey]: {hits: updatedList,\r\n                               deletedLines: updatedDeletedLines,\r\n                               count: updatedCount}},\r\n    });\r\n  }\r\n\r\n  /**\r\n   * updates length property\r\n   */\r\n  onLengthUpdate(updatedDownLoadLength){\r\n    console.log('--onLengthUpdate:');\r\n    console.log(\"function: onLengthUpdate changed download length from \"+this.downLoadLength+\" to \"+updatedDownLoadLength);\r\n    this.downLoadLength = updatedDownLoadLength;\r\n  }\r\n\r\n  onUpdate(id) {\r\n    console.log('--onUpdate: id= ' + id);\r\n    const isNotId = item => item.objectID !== id;\r\n    const {searchKey} = this.state;\r\n    const indexnum = this.state.results[searchKey].hits.findIndex(e => e.objectID === id);\r\n\r\n    this.setState(update(this.state, {results: { [searchKey]: {hits: {[indexnum]: {author: {$set: \"Peti\"}}}}}}));\r\n\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log(\"--componentDidMount:\");\r\n\r\n    const { searchKey } = this.state;\r\n    if (searchKey !== this.actualSearchTerm) {\r\n      this.setState({searchKey: this.actualSearchTerm});\r\n\r\n      this.fetchSearchTopStories(searchKey);\r\n    }\r\n  }\r\n  render() {\r\n    const searchKey = this.actualSearchTerm;\r\n    const result = this.state.results[searchKey];\r\n    const searchTerm = this.enteredSearchTerm;\r\n    const page = (result && result.page) || 0;\r\n    const nbPages = (result && result.nbPages) || 0;\r\n    const downLoadLength = this.downLoadLength;\r\n    console.log(\"--App.render Method:\");\r\n    console.log(\"searchKey = \" + searchKey)\r\n    console.log(result);\r\n\r\n    console.log(this.state);\r\n\r\n    return (\r\n      <div className=\"page\">\r\n        <div className=\"interactions\">\r\n          <Hello name={this.state.name} />\r\n          <p>\r\n            Start editing to see some magic happen :)\r\n          </p>\r\n            <Search\r\n              value = {searchKey}\r\n\r\n              onSubmit = {this.onSearchSubmit}\r\n            >\r\n              Search\r\n            </Search>\r\n            { result && result.hits && <SimpleTable\r\n                    list = {Object.assign(\r\n                              {},\r\n                              {headerRow: [\"Title\",\"Author\",\"Comment Num\",\"Points\",\"Dismiss\",\"Update\"]},\r\n                              {adat: result.hits},\r\n                              {downLoadLength},\r\n                              {nbHits: result.nbHits},\r\n                              {count: result.count},\r\n                              )}\r\n                    onDismiss ={this.onDismiss}\r\n                    onUpdate ={this.onUpdate}\r\n                    onLengthUpdate = {this.onLengthUpdate}\r\n                    enablePagination = {this.state.enablePagination}\r\n                    onAdditionSubmit = {this.onAdditionSubmit}\r\n              />\r\n\r\n            }\r\n\r\n\r\n          <p>\r\n             Edit <code>App.js</code> and save to reload. Actually no save needed....\r\n          </p>\r\n          <a\r\n            className=\"App-link\"\r\n            href=\"https://reactjs.org\"\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\">\r\n            Learn React\r\n          </a>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n/**\r\n * search section\r\n */\r\nconst Search = ({value, onSubmit, children}) => {\r\n  //do something here\r\n  const logo = \"https://upload.wikimedia.org/wikipedia/commons/a/a7/React-icon.svg\";\r\n  const classes = useStyles();\r\n  const [searchString, setSearchString] = useState(value);\r\n\r\n  function searchFieldChange(e){\r\n    setSearchString(e.target.value);\r\n  }\r\n\r\n  function searchFieldSubmit(e) {\r\n\r\n    e.preventDefault();\r\n    onSubmit(searchString);\r\n  }\r\n\r\n  return (\r\n    <form onSubmit = {searchFieldSubmit}>\r\n       <TextField\r\n        id=\"outlined-search\"\r\n        label=\"Search field\"\r\n        type=\"search\"\r\n        className={classes.textField}\r\n        margin=\"normal\"\r\n        variant=\"outlined\"\r\n        value={searchString}\r\n        onChange = {searchFieldChange}\r\n      />\r\n\r\n\r\n\r\n      <Button variant=\"contained\" color=\"primary\" type = \"submit\" className={classes.button}>\r\n        {children}\r\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\r\n      </Button>\r\n    </form>\r\n  );\r\n}\r\n\r\n\r\nexport default App;"]},"metadata":{},"sourceType":"module"}